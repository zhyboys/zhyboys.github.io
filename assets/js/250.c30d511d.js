(window.webpackJsonp=window.webpackJsonp||[]).push([[250],{673:function(a,s,e){"use strict";e.r(s);var t=e(42),n=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"数据表的操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据表的操作"}},[a._v("#")]),a._v(" 数据表的操作")]),a._v(" "),e("h2",{attrs:{id:"_01显示表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_01显示表"}},[a._v("#")]),a._v(" 01显示表")]),a._v(" "),e("p",[a._v("这个没啥说的，就像显示所有数据库一样，命令简短。")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("div",{staticClass:"highlight-lines"},[e("div",{staticClass:"highlighted"},[a._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("show tables;\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"_02创建表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_02创建表"}},[a._v("#")]),a._v(" 02创建表")]),a._v(" "),e("p",[a._v("就像创建数据库一样，有两类语句，简单的和复杂的。如果你曾经创建过名为A的数据库，当你再次创建数据表A时，会报错，但是如果加上 "),e("code",[a._v("if not exists")]),a._v("就不会再报错了，"),e("code",[a._v("if not exists")]),a._v("的意思是：如果不存在。如果你要创建的数据表名恰好是关键字，创建时会报错，加上一个反引号``将数据表名括起来就不会报错了。")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[a._v(" ")]),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create table [if not exists] `数据表名`(\n\t`字段名` 数据类型 [not null | null] [auto_increment] [primary key] [comment] ,\n\t`字段名` 数据类型 [default]\n) engine = innodb;\n")])]),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("p",[a._v("解释一下：")]),a._v(" "),e("ol",[e("li",[a._v("第二行的字段名相当于表格中的表头（比如姓名、班级、id之类的词）。")]),a._v(" "),e("li",[a._v("第二行数据类型涉及内容比较多，下篇文章会讲。")]),a._v(" "),e("li",[a._v("第二行"),e("code",[a._v("not null")]),a._v("或"),e("code",[a._v("null")]),a._v("指的是是否可以为空，比如申请账号，密码不能为空，但是个性签名可以为空，就是数据是否能空着。")]),a._v(" "),e("li",[a._v("第二行的[]符号表示可以省略不写。")]),a._v(" "),e("li",[a._v("第二行"),e("code",[a._v("auto_increment")]),a._v("表示自增（自动增加），比如id，你创建下一条数据时，将id设为自增，则id会随着你创建的数据自动增加。")]),a._v(" "),e("li",[a._v("第二行"),e("code",[a._v("primary key")]),a._v("表示主键，一个数据表往往会有一个字段名是主键。")]),a._v(" "),e("li",[e("code",[a._v("comment")]),a._v("是备注的意思，表示字段名的备注。")]),a._v(" "),e("li",[a._v("第三行"),e("code",[a._v("default")]),a._v("表示默认值，可以设置默认值，比如如果设置成绩的默认值为缺考，则填写成绩时，把某名同学的成绩空着不填，系统会自动填写缺考。")]),a._v(" "),e("li",[a._v("第四行"),e("code",[a._v("engine")]),a._v("表示引擎为"),e("code",[a._v("innodb")]),a._v("（一般初学者选择这个引擎就可以了）。除此之外，引擎还有"),e("code",[a._v("myisam")]),a._v(","),e("code",[a._v("memory")]),a._v("引擎不同，存储数据的方式不同。")])]),a._v(" "),e("p",[a._v("说了这么多，不如举个例子：创建一个名为"),e("code",[a._v("student")]),a._v("的数据表，分别有id,name,phone,add,几个字段名。")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("-- 简单写\ncreate table student (\n\tid int ,\n\tname varchar(20),\n\tphone varchar(20),\n\t`add` varchar(100)\n);\n-- 完整写\ncreate table student (\n\tid int auto_increment primary key comment '主键',\n\tname varchar(20) not null comment '姓名',\n\tphone varchar(20) comment '电话号码',\n\t`add` varchar(100) default '地址不详' comment '地址'\n) engine = innodb;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br")])]),e("h5",{attrs:{id:"注意点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意点"}},[a._v("#")]),a._v(" 注意点：")]),a._v(" "),e("p",[e("strong",[a._v("如果表中内容有中文，且在语法内容无误情况下在cmd中输入总是报错，此时或许你需要加一句"),e("code",[a._v("set names gbk")])])]),a._v(" "),e("h5",{attrs:{id:"多学一招"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#多学一招"}},[a._v("#")]),a._v(" 多学一招：")]),a._v(" "),e("p",[a._v("如果你想"),e("strong",[a._v("在当前数据库中为别的数据库创建数据表")]),a._v("，可以"),e("strong",[a._v("用点来实现")]),a._v("，比如你当前使用的是"),e("code",[a._v("AAschool")]),a._v("数据库，你想为数据库"),e("code",[a._v("BBschool")]),a._v("创建一个数据表"),e("code",[a._v("student")]),a._v("，实现语句是"),e("code",[a._v("create table BBschool.student;")])]),a._v(" "),e("h5",{attrs:{id:"语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[a._v("#")]),a._v(" 语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create table 数据库名.数据表名；\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"_03显示创建表的语句"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_03显示创建表的语句"}},[a._v("#")]),a._v(" 03显示创建表的语句")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("show create table `数据库名` [\\G];\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("写"),e("code",[a._v("\\G")]),a._v("与不写的区别是，后者显示结果显示的更清晰一些。")]),a._v(" "),e("h2",{attrs:{id:"_04查看表结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_04查看表结构"}},[a._v("#")]),a._v(" 04查看表结构")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("-- 简单写\ndesc `数据表名`;\n-- 复杂写\ndescribe `数据表名`;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("p",[e("code",[a._v("desc")]),a._v("是"),e("code",[a._v("describe")]),a._v("的缩写，一般缩写更常用。")]),a._v(" "),e("h2",{attrs:{id:"_05删除表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_05删除表"}},[a._v("#")]),a._v(" 05删除表")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("drop table [if exists] `表1` , `表2`;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("方括号表示可省略，内容简单，不再解释！")]),a._v(" "),e("h2",{attrs:{id:"_06修改表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_06修改表"}},[a._v("#")]),a._v(" 06修改表")]),a._v(" "),e("p",[a._v("要想修改表，首先要有表，详见附录一，修改表的例子基于附录一。")]),a._v(" "),e("h3",{attrs:{id:"_1-添加字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-添加字段"}},[a._v("#")]),a._v(" (1)添加字段")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table `表名` add [clumn] 字段名 数据类型 [完整性约束条件] [位置];\n#位置用[first | after 字段名]插在首列或字段名的后面\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("关键词： "),e("code",[a._v("add")]),a._v("、"),e("code",[a._v("first")]),a._v("、"),e("code",[a._v("after")])]),a._v(" "),e("p",[a._v("比如：我想在"),e("code",[a._v("name")]),a._v("后插入性别"),e("code",[a._v("sex")]),a._v("，使用关键词"),e("code",[a._v("after")]),a._v("。")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table student add sex char(1) comment '性别' after name;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("如果想在"),e("code",[a._v("id")]),a._v("的前面插入"),e("code",[a._v("iid")]),a._v("，使用"),e("code",[a._v("first")]),a._v("关键词插入首列。")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table student add iid int first;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("如果既不写关键词"),e("code",[a._v("first")]),a._v("也不写关键词"),e("code",[a._v("after")]),a._v("，默认插在最后。")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table student add last int ;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"_2-删除字段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-删除字段"}},[a._v("#")]),a._v(" (2)删除字段")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table `表名` drop [clumn] `字段名`;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("比如：删除字段"),e("code",[a._v("add")]),a._v("。")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table `student` drop `add`;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"_3-修改字段之改名改类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改字段之改名改类型"}},[a._v("#")]),a._v(" (3)修改字段之改名改类型")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table `表名` change [clumn] 字段名(改前) 字段名(改后) 数据类型;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("关键词：change")]),a._v(" "),e("p",[a._v("例如：将"),e("code",[a._v("phone")]),a._v("改为"),e("code",[a._v("cellPhone")]),a._v("默认值666666.")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table student change phone cellPhone varchar(20) default '666666' comment '座机';\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("注意：改过之后，你会发现Null属性变了，之前为no，不能为空，现在变为了YES可以为空，是因为改的时候，它自动改为默认的了。如果改的时候你没有写字段的约束性条件，会自动改为默认值。")]),a._v(" "),e("h3",{attrs:{id:"_4-修改字段之只改类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-修改字段之只改类型"}},[a._v("#")]),a._v(" (4)修改字段之只改类型")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table `表名` modify `字段名` [改后的数据类型] [改后的完整性约束性条件];\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("关键词：modify")]),a._v(" "),e("p",[a._v("例如：改"),e("code",[a._v("name")]),a._v("为"),e("code",[a._v("int")]),a._v("型，默认值为123。")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table student modify name int not null default 123;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"_5-修改引擎"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-修改引擎"}},[a._v("#")]),a._v(" (5)修改引擎")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table `表名` engine = 新引擎;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"_6-修改表名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-修改表名"}},[a._v("#")]),a._v(" (6)修改表名")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("alter table `表名` rename [to] `新表名`;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("过于简单，不再举例。")]),a._v(" "),e("h2",{attrs:{id:"附录一"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#附录一"}},[a._v("#")]),a._v(" 附录一：")]),a._v(" "),e("div",{staticClass:"language-mysql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("create database if not exists `t_e_s_t` ;  #创建数据库t_e_s_t\n\nuse `t_e_s_t`; #选择使用数据库t_e_s_t\n\ncreate table if not exists student ( #创建表student\n\tid int auto_increment primary key comment '主键',\n\tname varchar(20) not null comment '姓名',\n\tphone varchar(20) not null comment '电话号码',\n\t`add` varchar(100) default '地址不详' comment '地址'\n) engine = innodb;\n\ndesc student;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);